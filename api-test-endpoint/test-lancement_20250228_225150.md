# Résultats des Tests API

## Test du 2025-02-28 22:51:50

### POST /auth/login
Status: 200
Succès: ✅

#### Détails de la Requête
```json
{
  "url": "http://localhost:8000/auth/login",
  "method": "POST",
  "headers": null,
  "data": {
    "username": "admin",
    "password": "prodPassword"
  },
  "files": null
}
```

#### Réponse
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImV4cCI6MTc0MDg2OTUwOX0.SefgC_rnTRoPRtqkfLd4ZAWYhl6sNn7HL9eSqw1laFs",
  "token_type": "bearer"
}
```

---

### POST /predict
Status: 200
Succès: ✅

#### Détails de la Requête
```json
{
  "url": "http://localhost:8000/predict",
  "method": "POST",
  "headers": {
    "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImV4cCI6MTc0MDg2OTUwOX0.SefgC_rnTRoPRtqkfLd4ZAWYhl6sNn7HL9eSqw1laFs"
  },
  "data": {
    "image_path": "/app/api-test-endpoint/images-test.jpg"
  },
  "files": {
    "filename": "/app/api-test-endpoint/images-test.jpg"
  }
}
```

#### Réponse
```json
{
  "filename": "images-test.jpg",
  "predicted_class": "breakfast_burrito",
  "confidence": 30.340474843978882,
  "top5_predictions": [
    {
      "classe": "breakfast_burrito",
      "confiance": 30.340474843978882
    },
    {
      "classe": "pizza",
      "confiance": 15.860073268413544
    },
    {
      "classe": "spaghetti_bolognese",
      "confiance": 11.616287380456924
    },
    {
      "classe": "nachos",
      "confiance": 8.737722784280777
    },
    {
      "classe": "chicken_curry",
      "confiance": 8.562188595533371
    }
  ],
  "prediction_id": "images-test.jpg_breakfast_burrito_20250228_2251_3d2f6f7e"
}
```

---

### POST /predict_batch
Status: 200
Succès: ✅

#### Détails de la Requête
```json
{
  "url": "http://localhost:8000/predict_batch",
  "method": "POST",
  "headers": {
    "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImV4cCI6MTc0MDg2OTUwOX0.SefgC_rnTRoPRtqkfLd4ZAWYhl6sNn7HL9eSqw1laFs"
  },
  "data": {
    "images": [
      "/app/api-test-endpoint/multi-image-test.jpg",
      "/app/api-test-endpoint/multi-image-test-2.jpg"
    ]
  },
  "files": [
    {
      "filename": "/app/api-test-endpoint/multi-image-test.jpg"
    },
    {
      "filename": "/app/api-test-endpoint/multi-image-test-2.jpg"
    }
  ]
}
```

#### Réponse
```json
{
  "total_images": 2,
  "successful_predictions": 2,
  "failed_predictions": 0,
  "results": [
    {
      "prediction_id": "multi-image-test.jpg_breakfast_burrito_20250228_225149_96edb727",
      "filename": "multi-image-test.jpg",
      "predicted_class": "breakfast_burrito",
      "confidence": 24.690182507038116,
      "top5_predictions": [
        {
          "classe": "breakfast_burrito",
          "confiance": 24.690182507038116
        },
        {
          "classe": "pizza",
          "confiance": 17.286041378974915
        },
        {
          "classe": "chicken_curry",
          "confiance": 14.330734312534332
        },
        {
          "classe": "sushi",
          "confiance": 8.75895768404007
        },
        {
          "classe": "spaghetti_bolognese",
          "confiance": 6.276167929172516
        }
      ],
      "status": "success"
    },
    {
      "prediction_id": "multi-image-test-2.jpg_pizza_20250228_225150_8aad6c78",
      "filename": "multi-image-test-2.jpg",
      "predicted_class": "pizza",
      "confidence": 22.764939069747925,
      "top5_predictions": [
        {
          "classe": "pizza",
          "confiance": 22.764939069747925
        },
        {
          "classe": "breakfast_burrito",
          "confiance": 22.027258574962616
        },
        {
          "classe": "chicken_curry",
          "confiance": 9.824638813734055
        },
        {
          "classe": "spaghetti_bolognese",
          "confiance": 9.526212513446808
        },
        {
          "classe": "croque_madame",
          "confiance": 8.444636315107346
        }
      ],
      "status": "success"
    }
  ]
}
```

---

### POST /predict_zip
Status: 200
Succès: ✅

#### Détails de la Requête
```json
{
  "url": "http://localhost:8000/predict_zip",
  "method": "POST",
  "headers": {
    "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImV4cCI6MTc0MDg2OTUwOX0.SefgC_rnTRoPRtqkfLd4ZAWYhl6sNn7HL9eSqw1laFs"
  },
  "data": {
    "zip_file": "/app/api-test-endpoint/zip-test.zip"
  },
  "files": {
    "filename": "/app/api-test-endpoint/zip-test.zip"
  }
}
```

#### Réponse
```json
{
  "zip_filename": "zip-test.zip",
  "total_images": 2,
  "successful_predictions": 2,
  "failed_predictions": 0,
  "results": [
    {
      "prediction_id": "images.jpg_breakfast_burrito_20250228_225150_d5c77b3f",
      "filename": "images.jpg",
      "predicted_class": "breakfast_burrito",
      "confidence": 28.050905466079712,
      "top5_predictions": [
        {
          "classe": "breakfast_burrito",
          "confiance": 28.050905466079712
        },
        {
          "classe": "spaghetti_bolognese",
          "confiance": 13.369747996330261
        },
        {
          "classe": "pizza",
          "confiance": 10.521828383207321
        },
        {
          "classe": "sushi",
          "confiance": 10.134673863649368
        },
        {
          "classe": "chicken_curry",
          "confiance": 7.750167697668076
        }
      ],
      "status": "success"
    },
    {
      "prediction_id": "photo_126.jpg_breakfast_burrito_20250228_225150_e4c0115c",
      "filename": "photo_126.jpg",
      "predicted_class": "breakfast_burrito",
      "confidence": 30.687367916107178,
      "top5_predictions": [
        {
          "classe": "breakfast_burrito",
          "confiance": 30.687367916107178
        },
        {
          "classe": "pizza",
          "confiance": 13.371816277503967
        },
        {
          "classe": "chicken_curry",
          "confiance": 9.311079978942871
        },
        {
          "classe": "nachos",
          "confiance": 9.120939671993256
        },
        {
          "classe": "spaghetti_bolognese",
          "confiance": 8.151724189519882
        }
      ],
      "status": "success"
    }
  ]
}
```

---

### POST /feedback
Status: 500
Succès: ❌

#### Détails de la Requête
```json
{
  "url": "http://localhost:8000/feedback",
  "method": "POST",
  "headers": {
    "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImV4cCI6MTc0MDg2OTUwOX0.SefgC_rnTRoPRtqkfLd4ZAWYhl6sNn7HL9eSqw1laFs"
  },
  "data": {
    "prediction_id": "images-test.jpg_breakfast_burrito_20250228_2251_3d2f6f7e",
    "is_correct": true,
    "correct_class": "spaghetti_bolognese"
  },
  "files": null
}
```

#### Réponse
```json
{
  "detail": "Erreur lors du traitement du feedback: "
}
```

---

